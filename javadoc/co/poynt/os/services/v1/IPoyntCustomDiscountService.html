<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Thu Sep 20 11:06:47 PDT 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IPoyntCustomDiscountService (Poynt SDK - API)</title>
<meta name="date" content="2018-09-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IPoyntCustomDiscountService (Poynt SDK - API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../co/poynt/os/services/v1/IPoyntConnectToCardListener.Stub.html" title="class in co.poynt.os.services.v1"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.Stub.html" title="class in co.poynt.os.services.v1"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?co/poynt/os/services/v1/IPoyntCustomDiscountService.html" target="_top">Frames</a></li>
<li><a href="IPoyntCustomDiscountService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">co.poynt.os.services.v1</div>
<h2 title="Interface IPoyntCustomDiscountService" class="title">Interface IPoyntCustomDiscountService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd>android.os.IInterface</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.Stub.html" title="class in co.poynt.os.services.v1">IPoyntCustomDiscountService.Stub</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">IPoyntCustomDiscountService</span>
extends android.os.IInterface</pre>
<div class="block">Provides necessary interfaces to support custom disount on Poynt devices. These custom
 discount may include coupons, rewards etc.

 Typical integration includes the following steps:
 <ul>
 All calls require android:permission="co.poynt.capability.PAYMENT" to be declared in
 the caller's Android Manifest file.
 Please refer to <a href=
 "https://poynt.github.io/developer/overview/developer-faqs.html#developing-on-poynt">
 Poynt OS Permissions</a> for more details.

 All implementers of this Service must add meta data to the 'Service' element in their Android
 Manifest file for Poynt to recognize and invoke your service as needed.

 Here's the example service declaration in AndroidManifest.xml
 <pre>
 <code>
  Sample Service
         &lt;service
             android:name=".CustomCouponService"
             android:enabled="true"
             android:exported="true"
             android:permission="co.poynt.capability.PAYMENT"&gt;

             &lt;!-- define the intent filter with an action as IPoyntCustomDiscountService interface --&gt;
             &lt;intent-filter&gt;
                 &lt;action android:name="co.poynt.os.services.v1.IPoyntCustomDiscountService" /&gt;
             &lt;/intent-filter&gt;

             &lt;!-- define the details of your discount service inside an xml resource --&gt;
             &lt;!-- This xml will be used by the poynt system to expose this discount service to
                  other POS systems installed in the poynt device --&gt;
             &lt;meta-data
                 android:name="co.poynt.os.service.capability"
                 android:resource="@xml/coupons_capabilities"/&gt;

             &lt;!-- Optional: Provide a logo that will appear on screen --&gt;
             &lt;meta-data
                 android:name="co.poynt.os.service.logo"
                 android:resource="@drawable/custom_tender" /&gt;
         &lt;/service&gt;
  Sample discount XML
         &lt;?xml version="1.0" encoding="utf-8"?&gt;
         &lt;!-- This xml defines what capabilities are supported by the discount service that uses this xml.
              Capabilities will be used by PoyntOS on behalf of the service to
              get inputs from merchant/customer. --&gt;
             &lt;capability xmlns:android="http://schemas.android.com/apk/res/android"&gt;

             &lt;!-- REQUIRED: application id of this app this appid is issued by poynt web portal
                  IMPORTANT: Replace this appid with your appid.--&gt;
             &lt;!--&lt;appid&gt;urn:aid:0f39b7a3-b9db-41f1-9cdb-9f04a3620ade&lt;/appid&gt;--&gt;
             &lt;appid&gt;urn:aid:d3462a56-737b-4419-b54c-39a59f4dc8d6&lt;/appid&gt;

             &lt;!-- REQUIRED: type of capbility, should be one of
               CUSTOM_TRANSACTION, DISCOUNT, LOYALTY,
               please see CapabilityType defined in PoyntSDK for list of types supported.
             --&gt;
             &lt;type&gt;DISCOUNT&lt;/type&gt;

             &lt;!-- descriptive name of this capability --&gt;
             &lt;provider&gt;Poynt Coupon&lt;/provider&gt;&gt;

             &lt;!-- entry method could be one of the following
                 MANUAL -&gt; will result in showing a icon to the merchant to manually launch the capability.
                 CARDREAD -&gt; card data will be directly passed to this capability provider.
                 QRCODE -&gt; qr code entry.
                 OTHER -&gt; other entry methods.
                 each entry method can be additionally filtered with eval tag.
             --&gt;
             &lt;entry_method type="MANUAL"&gt;&lt;/entry_method&gt;
             &lt;entry_method type="QRCODE"&gt;&lt;/entry_method&gt;

             &lt;/capability&gt;
 </code>
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>beta3</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.Stub.html" title="class in co.poynt.os.services.v1">IPoyntCustomDiscountService.Stub</a></span></code>
<div class="block">Local-side IPC implementation stub class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#applyDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-java.lang.String-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">applyDiscount</a></span>(java.lang.String&nbsp;requestId,
             co.poynt.api.model.Order&nbsp;order,
             co.poynt.api.model.Transaction&nbsp;transaction,
             java.lang.String&nbsp;code,
             <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)</code>
<div class="block">Verify a given discount code or customer information provided is valid.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#cancelDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">cancelDiscount</a></span>(java.lang.String&nbsp;requestId,
              co.poynt.api.model.Order&nbsp;order,
              co.poynt.api.model.Transaction&nbsp;transaction,
              <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)</code>
<div class="block">Cancel the discount, This service should cancel the discounts it was added to the order in
 <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#applyDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-java.lang.String-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-"><code>applyDiscount(java.lang.String, co.poynt.api.model.Order, co.poynt.api.model.Transaction, java.lang.String, co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener)</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#confirmDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">confirmDiscount</a></span>(java.lang.String&nbsp;requestId,
               co.poynt.api.model.Order&nbsp;order,
               co.poynt.api.model.Transaction&nbsp;transaction,
               <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)</code>
<div class="block">Once the discount is applied to the order this discount has to be finalized/settled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.android.os.IInterface">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;android.os.IInterface</h3>
<code>asBinder</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="applyDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-java.lang.String-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyDiscount</h4>
<pre>void&nbsp;applyDiscount(java.lang.String&nbsp;requestId,
                   co.poynt.api.model.Order&nbsp;order,
                   co.poynt.api.model.Transaction&nbsp;transaction,
                   java.lang.String&nbsp;code,
                   <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)
            throws android.os.RemoteException</pre>
<div class="block">Verify a given discount code or customer information provided is valid. Apply discount to
 an Order based on content of the order or total amount of the order. Discount can be applied
 in item level or order level. Create a new Discount object and add the discount object to
 the Order object and return the updated order by calling
 <code>IPoyntCustomDiscountServiceListener#onSucess</code>,
 Some or whole of the Order can be paid with this account/coupon codes.
 This call can happen multiple times during order processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - Request id of the call originator.</dd>
<dd><code>transaction</code> - <code>co.poynt.api.Transaction</code> for which the discount code is being requested for</dd>
<dd><code>order</code> - <code>co.poynt.api.Order</code> containing the item list for which the discount code is being requested for</dd>
<dd><code>discount</code> - or coupon code to apply</dd>
<dd><code>callback</code> - <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1"><code>IPoyntCustomDiscountServiceListener</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>android.os.RemoteException</code></dd>
</dl>
</li>
</ul>
<a name="confirmDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>confirmDiscount</h4>
<pre>void&nbsp;confirmDiscount(java.lang.String&nbsp;requestId,
                     co.poynt.api.model.Order&nbsp;order,
                     co.poynt.api.model.Transaction&nbsp;transaction,
                     <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)
              throws android.os.RemoteException</pre>
<div class="block">Once the discount is applied to the order this discount has to be finalized/settled.
 This function will be called on the service to finalize the discounts that were applied
 to the order during <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#applyDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-java.lang.String-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-"><code>applyDiscount(java.lang.String, co.poynt.api.model.Order, co.poynt.api.model.Transaction, java.lang.String, co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener)</code></a> call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - Request id of the call originator.</dd>
<dd><code>order</code> - object to authorize.</dd>
<dd><code>callback</code> - <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1"><code>IPoyntCustomDiscountServiceListener</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>android.os.RemoteException</code></dd>
</dl>
</li>
</ul>
<a name="cancelDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cancelDiscount</h4>
<pre>void&nbsp;cancelDiscount(java.lang.String&nbsp;requestId,
                    co.poynt.api.model.Order&nbsp;order,
                    co.poynt.api.model.Transaction&nbsp;transaction,
                    <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1">IPoyntCustomDiscountServiceListener</a>&nbsp;callback)
             throws android.os.RemoteException</pre>
<div class="block">Cancel the discount, This service should cancel the discounts it was added to the order in
 <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.html#applyDiscount-java.lang.String-co.poynt.api.model.Order-co.poynt.api.model.Transaction-java.lang.String-co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener-"><code>applyDiscount(java.lang.String, co.poynt.api.model.Order, co.poynt.api.model.Transaction, java.lang.String, co.poynt.os.services.v1.IPoyntCustomDiscountServiceListener)</code></a>. If discount(s) in the order were already finalized, then discount(s)
 needs to be refunded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestId</code> - Request id of the call originator.</dd>
<dd><code>order</code> - object with discounts to cancel.</dd>
<dd><code>callback</code> - <a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountServiceListener.html" title="interface in co.poynt.os.services.v1"><code>IPoyntCustomDiscountServiceListener</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>android.os.RemoteException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../co/poynt/os/services/v1/IPoyntConnectToCardListener.Stub.html" title="class in co.poynt.os.services.v1"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../co/poynt/os/services/v1/IPoyntCustomDiscountService.Stub.html" title="class in co.poynt.os.services.v1"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?co/poynt/os/services/v1/IPoyntCustomDiscountService.html" target="_top">Frames</a></li>
<li><a href="IPoyntCustomDiscountService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
